# Research Relay secrets template
# Copy to ../../secrets/research-relay.yaml and encrypt with sops
#
# To encrypt:
#   1. Generate age key: age-keygen -o infra/nixos/keys/relay.agekey
#   2. Get public key: age-keygen -y infra/nixos/keys/relay.agekey
#   3. Create .sops.yaml with age public key
#   4. Encrypt: sops -e secrets.yaml.example > ../../secrets/research-relay.yaml

research-relay:
  # Cloudflare origin certificates (obtain from Cloudflare dashboard)
  # Dashboard -> SSL/TLS -> Origin Server -> Create Certificate
  cloudflare-origin-cert: |
    -----BEGIN CERTIFICATE-----
    MIIEpDCCAowCCQC...YOUR_CERT_HERE...
    -----END CERTIFICATE-----

  cloudflare-origin-key: |
    -----BEGIN PRIVATE KEY-----
    MIIEvgIBADANBgk...YOUR_KEY_HERE...
    -----END PRIVATE KEY-----

  # Odoo admin password (for initial setup + admin panel)
  odoo:
    admin-password: changeme-strong-password-here

  # PDF-intake service secrets
  pdf-intake:
    # Redis password for Celery broker
    redis-password: changeme-redis-password

    # Odoo service account for PDF-intake to update prices
    # Create in Odoo: Settings -> Users -> Create user with "Inventory/Administrator" role
    odoo-rpc-user: pdf_intake_service
    odoo-rpc-password: changeme-rpc-password

    # Bearer token for PDF-intake API authentication
    # Generate with: openssl rand -hex 32
    api-token: changeme-api-token-here

  # BTCPay Server secrets
  btcpay:
    # PostgreSQL password for BTCPay database
    db-password: changeme-btcpay-db-password

    # BTCPay API key (generate after BTCPay first start)
    # BTCPay Dashboard -> Account -> API Keys -> Generate
    api-key: changeme-btcpay-api-key

    # Webhook signature secret (for Odoo webhook validation)
    # Generate with: openssl rand -hex 32
    webhook-secret: changeme-webhook-secret

  # Backup encryption
  # Generate with: age-keygen -o backup.key && age-keygen -y backup.key
  backup-age-pubkey: age1changeme...your-age-public-key-here
